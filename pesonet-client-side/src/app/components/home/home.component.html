<section class="createpost" *ngIf="showCreate">
  <app-create-post />
  <div class="createpost--" (click)="showModal()"></div>
</section>

<app-navbar />

<section class="container">
  <div class="add" (click)="showModal()">
    <img src="../../../assets/icons/_add.svg" alt="no icon found" />
  </div>

  <section class="left">
    <div class="upper-box">
      <p class="title">Add to your feed</p>

      <div class="follow-box">
        <span><div class="profile"></div></span>
        <div class="txt-content">
          <p class="name">Temporary name</p>
          <p class="company">Temporary company @forawhile.inc</p>
        </div>

        <div class="btn-follow">
          <img src="../../../assets/icons/add.svg" alt="" />
        </div>
      </div>
    </div>

    <div class="recommendation">
      <p class="view-all">View all recommendations</p>
      <img src="../../../assets/icons/arrow-forward.svg" alt="arrow button" />
    </div>
  </section>

  <!-- Start of right section -->
  <section class="right">
    <div class="create-post">
      <span><div class="profile"></div></span>
      <input
        type="text"
        name=""
        id=""
        placeholder="What is on your mind, Arvin?"
        (click)="showModal()"
      />
    </div>

    <div class="job-post" *ngFor="let post of posts; let i = index">
      <div class="right-actions">
        <div class="right-box">
          <div class="holder" *ngFor="let topBtns of topRight">
            <img src="../../../assets/icons/{{ topBtns.icon }}" alt="" />
          </div>
        </div>
      </div>

      <div class="header">
        <div class="profile">
          <img
            src="../../../assets/local_uploads/{{ post.dp }}"
            alt="no image found"
          />
        </div>
        <div class="txt-content">
          <p class="name">{{ post.firstname + " " + post.lastname }}</p>
          <p class="company">{{ post.companyname }}</p>
          <p class="time">{{ post.date_column }}</p>
        </div>
      </div>

      <div class="body">
        <p>
          Looking for: <b>{{ post.jobtitle }}</b>
        </p>

        <div class="img-holder" *ngIf="doesHave">
          <img
            src="../../../assets/local_uploads/{{ post.imagename }}"
            alt=""
          />
        </div>
      </div>

      <div class="actions">
        <div
          class="action-box"
          (click)="handleSave(post.new_id, i)"
          [ngClass]="save[i] ? 'isActive' : ''"
        >
          <img
            src="../../../assets/icons/{{
              save[i] ? 'bookmark-added' : 'save'
            }}.svg"
            alt="save icon"
          />
          <p>Save</p>
        </div>

        <div
          class="action-box"
          (click)="handleLike(post.new_id)"
          [ngClass]="like[i] ? 'isActive' : ''"
        >
          <img
            src="../../../assets/icons/{{ like[i] ? 'liked' : 'like' }}.svg"
            alt="like icon"
          />
          <p>Like</p>
        </div>

        <div class="action-box">
          <img src="../../../assets/icons/info.svg" alt="info icon" />
          <p>Info</p>
        </div>

        <div
          class="action-box"
          (click)="handleApply(post.new_id)"
          [ngClass]="save[i] ? 'isActive' : ''"
        >
          <img
            src="../../../assets/icons/{{ apply[i] ? 'applied' : 'send' }}.svg"
            alt="apply icon"
          />
          <p>Apply</p>
        </div>
      </div>
    </div>
  </section>
</section>
